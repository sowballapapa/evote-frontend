<div class="container-fluid">
  <div class="card">
    <div class="card-header">
      <h4>Créer un nouvel élcteur</h4>
    </div>
    <div class="card-body bg-body-tertiary p-3 ">
      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="vstack gap-3">
        <div class="row">
          <div class="col-6">
            <div class="form-group">
              <label class="form-label">
                Numéro CNI
              </label>
              <input type="number" class="form-control" formControlName="cniNumber">
            </div>
          </div>
          <div class="col-6">
            <div class="form-group">
              <label class="form-label">
                Numéro Electeur
              </label>
              <input type="text" class="form-control" formControlName="electorNumber">
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-6">
            <div class="form-group">
              <label class="form-label">
                Nom
              </label>
              <input type="text" class="form-control" formControlName="lastname">
            </div>
          </div>
          <div class="col-6">
            <div class="form-group">
              <label class="form-label">
                Prénom
              </label>
              <input type="text" class="form-control" formControlName="firstname">
            </div>
          </div>
        </div>

        <div class="row">
        <div class="col-3">
          <div class="form-group ">
            <label class="form-label">
              Sexe
            </label>
            <div class="d-flex">
              <div class="form-check form-check-inline">
                <input type="radio" class="form-check-input" formControlName="sex" value="1" id="masculin">
                <label class="form-check-label" for="masculin">Masculin</label>
              </div>
              <div class="form-check form-check-inline">
                <input type="radio" class="form-check-input" formControlName="sex" value="0" id="feminin" >
                <label class="form-check-label" for="feminin">Féminin</label>
              </div>
            </div>
          </div>
        </div>
        <div class="col-3">
          <div class="form-group">
            <label class="form-label">
              Taille - {{height}}cm
            </label>
            <input type="range" class="form-range" min="120" max="260" step="1" (change)="heightValue($event)">
          </div>
        </div>
        <div class="col-6">
          <div class="form-group">
            <label class="form-label">
              Adresse
            </label>
            <input type="text" class="form-control" formControlName="address">
          </div>
        </div>
      </div>

        <div class="row">
          <div class="col-6">
            <div class="form-group">
              <label class="form-label">
                Date de Naissance
              </label>
              <input type="date" class="form-control" formControlName="birthDate">
            </div>
          </div>
          <div class="col-6">
            <div class="form-group">
              <label class="form-label">
                Lieu de Naissance
              </label>
              <input type="text" class="form-control" formControlName="birthPlace">
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-6">
            <div class="form-group">
              <label class="form-label">
                Date de Délivrance
              </label>
              <input type="date" class="form-control" formControlName="delivranceDate">
            </div>
          </div>
          <div class="col-6">
            <div class="form-group">
              <label class="form-label">
                Date d'expiration
              </label>
              <input type="date" class="form-control" formControlName="expirationDate">
            </div>
          </div>
        </div>


        <div class="row">
          <div class="col-4">
            <div class="form-group">
              <label class="form-label">
                Prénom du Père
              </label>
              <input type="text" class="form-control" formControlName="dadFirstname">
            </div>
          </div>
          <div class="col-4">
            <div class="form-group">
              <label class="form-label">
                Prénom de la mère de Naissance
              </label>
              <input type="text" class="form-control" formControlName="mumFirstname">
            </div>
          </div>
          <div class="col-4">
            <div class="form-group">
              <label class="form-label">
                Nom de jeune fille de la mère
              </label>
              <input type="text" class="form-control" formControlName="mumLastname">
            </div>
          </div>
        </div>


        <div class="row">
          <div class="col-4">
            <div class="form-group">
              <label class="form-label">
                Photo d'identité
              </label>
              <input type="file" class="form-control" formControlName="image">
            </div>
          </div>
          <div class="col-4">
            <div class="form-group">
              <label class="form-label">
                Recto CNI
              </label>
              <input type="file" class="form-control" formControlName="cniFront">
            </div>
          </div>
          <div class="col-4">
            <div class="form-group">
              <label class="form-label">
                Verso CNI
              </label>
              <input type="file" class="form-control" formControlName="cniBack">
            </div>
          </div>
        </div>


        <div class="row">
          <div class="col-3">
            <div class="form-group">
              <label class="form-label">
                Région
              </label>
              <select #selectRegions (change)="getRegionId(selectRegions.value)" class="form-select" >
                <option value="null" [disabled]="regionId!=0">Sélectionner une région</option>
                <option *ngFor="let region of regions" value="{{region.id}}">
                    {{region.name}}
                </option>
              </select>

            </div>
          </div>
          <div class="col-3">
            <div class="form-group">
              <label class="form-label">
                Département
              </label>
              <select #selectDeps class="form-select" (change)="getDepartmentId(selectDeps.value)">
                <option value="null" [disabled]="departmentId!=0">Sélectionner un département</option>
                <option *ngFor="let department of departments" value="{{department.id}}">{{department.name}}</option>
              </select>
            </div>
          </div>
          <div class="col-3">
            <div class="form-group">
              <label class="form-label">
                Arrondissement
              </label>
              <select #selectMuns class="form-select" (change)="getMunicipalityId(selectMuns.value)">
                <option value="null" [disabled]="municipalityId!=0">Sélectionner un arrondissement</option>
                <option *ngFor="let municipality of municipalities" value="{{municipality.id}}">{{municipality.name}}</option>
              </select>
            </div>
          </div>
          <div class="col-3">
            <div class="form-group">
              <label class="form-label">
                Commune
              </label>
              <select class="form-select" #selectDist (change)="getDistrictId(selectDist.value)">
                <option value="null" [disabled]="districtId!=0">Sélectionner une commune</option>
                <option *ngFor="let district of districts" value="{{district.id}}">{{district.name}}</option>
              </select>

            </div>
          </div>
        </div>



        <div class="row">
          <div class="col-4">
            <div class="form-group">
              <label class="form-label">
                Lieu de Vote
              </label>
              <select class="form-select" #selectVp (change)="getVPId(selectVp.value)">
                <option value="null" [disabled]="votingPlaceId!=0">Sélectionner un lieu de vote</option>
                <option *ngFor="let votingP of votingPlaces" value="{{votingP.id}}">{{votingP.name}}</option>
              </select>
            </div>
          </div>
          <div class="col-4">
            <div class="form-group">
              <label class="form-label">
                Bureau de Vote
              </label>
              <select class="form-select" formControlName="polling_station_id">
                <option value="null" [selected]="true">Sélectionner un bureau de vote</option>
                <option *ngFor="let pollingSt of pollingStations" value="{{pollingSt.id}}">{{pollingSt.stationNumber}}</option>
              </select>
            </div>
          </div>
          <div class="col-4">
            <button (click)="resetFilteredlocation()" class="btn btn-outline-secondary ">Réinitialiser le filtre des localités</button>
          </div>
        </div>

        <div class="row text-center justify-content-center">
          <button class="btn-save w-25" type="submit" [disabled]="form.invalid">Enregistrer</button>
        </div>

      </form>
    </div>
  </div>
</div>
