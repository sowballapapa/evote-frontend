<div class="shadow-lg"  *ngIf="sponsorshipsDetails">
  <table class="table table-bordered">
    <tr class="bg-secondary-subtle">
      <th>Date et heure de démarrage</th>
      <th>Date et heure de clôture</th>
      <th>Nombre de parrains requis par commune</th>
      <th>Nombre de parrains minimal requis</th>
      <th>Nombre de parrains maximal</th>
    </tr>
    <tr class="text-danger fw-bold text-center">
      <td>{{sponsorshipsDetails.startingDate}}</td>
      <td>{{sponsorshipsDetails.endingDate}}</td>
      <td>{{sponsorshipsDetails.district_min_electors_sign}}</td>
      <td>{{sponsorshipsDetails.min_electors_sign}}</td>
      <td>{{sponsorshipsDetails.max_electors_sign}}</td>
    </tr>
  </table>
  <div class="card-group p-4 border-dark-subtle border-1 border shadow">
    <div class="card p-2 bg-secondary-subtle">
      @if (sponsorshipsDetails.started === 0 && sponsorshipsDetails.stoped === 0 ) {
          <h4><u>Statut des parrainages</u>: <b class="text-danger"><i>Pas encore démarré.</i></b></h4>
          <button class="btn btn-outline-success" type="button" (click)="startSponsor()">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="lightgreen"><path d="M360-840v-80h240v80H360ZM480-80q-74 0-139.5-28.5T226-186q-49-49-77.5-114.5T120-440q0-74 28.5-139.5T226-694q49-49 114.5-77.5T480-800q62 0 119 20t107 58l56-56 56 56-56 56q38 50 58 107t20 119q0 74-28.5 139.5T734-186q-49 49-114.5 77.5T480-80Zm0-80q116 0 198-82t82-198q0-116-82-198t-198-82q-116 0-198 82t-82 198q0 116 82 198t198 82Zm0-280Zm-80 160 240-160-240-160v320Z"/></svg>
            Démarrer les parrainages
          </button>
      } @else if (sponsorshipsDetails.stoped === 0 && sponsorshipsDetails.started === 1) {
        <h4><u>Statut des parrainages</u>: <b class="text-warning"><i>En cours</i></b></h4>
        <button class="btn btn-outline-danger" type="button" (click)="stopSponsor()">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="red"><path d="m798-274-60-60q11-27 16.5-53.5T760-440q0-116-82-198t-198-82q-24 0-51 5t-56 16l-60-60q38-20 80.5-30.5T480-800q60 0 117.5 20T706-722l56-56 56 56-56 56q38 51 58 108.5T840-440q0 42-10.5 83.5T798-274ZM520-552v-88h-80v8l80 80ZM792-56l-96-96q-48 35-103.5 53.5T480-80q-74 0-139.5-28.5T226-186q-49-49-77.5-114.5T120-440q0-60 18.5-115.5T192-656L56-792l56-56 736 736-56 56ZM480-160q42 0 82-13t75-37L248-599q-24 35-36 75t-12 84q0 116 82 198t198 82ZM360-840v-80h240v80H360Zm83 435Zm113-112Z"/></svg>
          Clôturer les parrainages
        </button>
      } @else if (sponsorshipsDetails.stoped === 1 && sponsorshipsDetails.started === 1) {
        <h4><u>Statut des parrainages</u>: <b class="text-danger"><i>Terminer</i></b></h4>
<!--        <button class="btn btn-outline-success" disabled type="button" (click)="startSponsor()">Démarrer les parrainages</button>-->
        <button class="btn btn-success" type="button" (click)="restartSponsor()">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="M440-122q-121-15-200.5-105.5T160-440q0-66 26-126.5T260-672l57 57q-38 34-57.5 79T240-440q0 88 56 155.5T440-202v80Zm80 0v-80q87-16 143.5-83T720-440q0-100-70-170t-170-70h-3l44 44-56 56-140-140 140-140 56 56-44 44h3q134 0 227 93t93 227q0 121-79.5 211.5T520-122Z"/></svg>          Redémarrer les parrainages
        </button>
      }
    </div>
    <div class="card p-2 bg-success-subtle">
      <h5 class="bg-success-subtle p-1 shadow-sm">Modifier les nombre de parrains requis</h5>
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="form-group pb-2">
          <label class="form-label">Requis par commune</label>
          <input class="form-control" type="number" formControlName="district_min_electors_sign" id="">
        </div>
        <div class="form-group pb-2">
          <label class="form-label">Minimum requis</label>
          <input class="form-control" type="number" formControlName="min_electors_sign" id="">
        </div>
        <div class="form-group pb-2">
          <label class="form-label">Maximum requis</label>
          <input class="form-control" type="number" formControlName="max_electors_sign" id="">
        </div>
        <div class="form-group pb-2 text-center m-auto  ">
          <button type="submit" class="btn btn-outline-success text-white fs-5 fw-bold" [disabled]="form.invalid">Valider les modifications</button>
        </div>
      </form>
    </div>
  </div>
</div>
